@using System.Globalization
@using DRRealState.Core.Application.ViewModel.Estate

@model List<EstateViewModel>

@{
    ViewData["Title"] = "My Property";
    CultureInfo.DefaultThreadCurrentCulture = new("es-DO");
}

<div class="float-end justify-content-center">
    <a type="button" class="btn btn-outline-success rounded rounded-circle w-75" asp-controller="Estate" asp-action="Create"><i class="fa-solid fa-plus"></i></a>
</div>

<div class="row">
     @if(Model.Count==0 || Model == null ){

                <div class="col-6 mt-5 offset-3">

                    <div class="card d-flex justify-content-center">
                        <div class="card-header bg-dark text-white">ESTATES</div>
                        <div class="card-body"><h4>No Estate(s) actually</h4></div>
                    </div>

        </div>
    }
    else{

                 @foreach(EstateViewModel item in Model)
                    {
                    <div class="property-item col-lg-4 col-md-6 col-12 mb-40 p-5">
                <div class="property-inner">
                    <div class="image">
                        <span class="label">Feature</span>
                        <a asp-action="Details" asp-controller="Estate" asp-route-id="@item.Id"><img src="https://htmldemo.net/khonike/khonike/assets/images/property/property-2.jpg" alt=""></a>
                        <ul class="property-feature">
                            <li>
                                <span class="area"><i class="fa-solid fa-house"></i> @item.SizeInMeters M<sup>2</sup></span>
                            </li>
                            <li>
                                <span class="bed"><i class="fa-solid fa-bed"></i> @item.BedRoomQuantity</span>
                            </li>
                            <li>
                                <span class="bath"><i class="fa-solid fa-bath"></i> @item.BathroomQuantity</span>
                            </li>
                            
                        </ul>
                    </div>
                    <div class="content">
                        <div class="left">
                            <h3><a asp-action="Details" asp-controller="Estate" asp-route-id="@item.Id" class="title">@item.PropertiesType.Name.ToUpper()</a></h3>
                            <span class="location"><i class="fa-solid fa-clipboard-list"></i>&nbsp;&nbsp;Code: @item.Code</span>
                            <span class="location"><i class="fa-solid fa-location-dot"></i>&nbsp;&nbsp;@item.Ubication</span>
                        </div>
                        <div class="right">
                            <div class="type-wrap">
                                <span class="price">@item.Price.ToString("C")</span>
                                <span class="type">@item.SaleType.Name</span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <a asp-action="Edit" asp-controller="Estate" asp-route-id=@item.Id class="btn bg-custom h-50"><i class="fas fa-pencil me-2"></i>Edit</a>
                            </div>
                            <div class="col-6">
                              <a asp-action="Delete" asp-controller="Estate" asp-route-id=@item.Id class="btn btn-danger h-50"><i class="fas fa-trash me-2"></i>Delete</a>
                            </div>
                        </div>
                    </div>
                    </div>
                </div>
    }
    
}
</div>




